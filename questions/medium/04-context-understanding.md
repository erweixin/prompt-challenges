# 上下文理解

## 🟡 中等

### 挑战描述

上下文理解是AI系统理解对话历史、背景信息和隐含含义的关键能力。本挑战要求你设计一个提示词，使AI能够准确理解复杂的上下文信息，包括对话历史、背景知识、隐含假设和语境变化。

### 挑战目标

编写一个提示词，使 AI 能够：
1. 准确理解对话历史和上下文信息
2. 识别隐含的假设和背景知识
3. 处理语境变化和话题转换
4. 理解指代关系和省略信息
5. 基于上下文进行合理的推理和补充

### 要求

- 提示词必须能处理复杂的对话历史
- 应能识别和利用背景信息
- 对于模糊或省略的信息，应能基于上下文推断
- 输出应包含对上下文的理解和推理过程
- 处理过程应清晰可追溯

### 提示模板

```
[你的提示词]

对话历史:
{对话历史}

背景信息:
{背景信息}

当前问题:
{当前问题}
```

### 测试用例

**案例 1: 指代关系理解**

```
对话历史:
用户: "我昨天买的那本书怎么样？"
AI: "您指的是《人工智能导论》吗？这本书内容很全面，适合初学者。"
用户: "对，就是那本。你觉得第三章写得怎么样？"

背景信息: 用户之前询问过关于人工智能入门书籍的推荐，AI推荐了《人工智能导论》。

当前问题: 分析用户当前问题的具体含义和AI应该如何回答。
```

**案例 2: 隐含假设识别**

```
对话历史:
用户: "这个项目什么时候能完成？"
AI: "根据当前的进度，预计需要3个月。"
用户: "那太慢了，能不能加快？"
AI: "可以，但需要增加人手。"
用户: "预算不够。"

背景信息: 这是一个软件开发项目，涉及多个模块的开发。

当前问题: 分析用户的隐含需求和可能的解决方案。
```

**案例 3: 话题转换处理**

```
对话历史:
用户: "今天天气真不错。"
AI: "是的，阳光明媚，适合外出活动。"
用户: "对了，我听说你最近在学习新技能？"
AI: "是的，我在学习多模态AI技术。"
用户: "那正好，我想了解一下这个领域。"

背景信息: 用户对AI技术有一定了解，之前讨论过相关话题。

当前问题: 分析话题转换的时机和用户的新需求。
```

**案例 4: 省略信息补充**

```
对话历史:
用户: "那个会议改到明天了。"
AI: "好的，我会调整日程安排。"
用户: "记得准备材料。"
AI: "没问题，我会准备好的。"

背景信息: 用户和AI之前讨论过一个重要的客户会议，需要准备演示材料。

当前问题: 分析对话中省略的具体信息，确保理解准确。
```

**案例 5: 语境变化适应**

```
对话历史:
用户: "这个方案怎么样？"
AI: "从技术角度来看，这个方案是可行的。"
用户: "我是说从成本角度考虑。"
AI: "啊，从成本角度来说，这个方案可能超出预算了。"

背景信息: 用户和AI在讨论一个技术项目的实施方案。

当前问题: 分析语境变化对回答要求的影响。
```

**案例 6: 多轮推理**

```
对话历史:
用户: "我想学编程。"
AI: "很好的选择！您有特定的目标吗？"
用户: "我想做网站开发。"
AI: "那建议从HTML、CSS和JavaScript开始。"
用户: "这些要学多久？"
AI: "基础大概需要2-3个月。"
用户: "那Python呢？"

背景信息: 用户是编程初学者，对技术学习时间比较关注。

当前问题: 分析用户询问Python学习时间的原因和可能的意图。
```

### 评分标准和自动测试方法

提示词将根据以下标准进行评分：

1. **指代关系理解**（2分）
   - 评估方法: 检查AI是否能正确理解代词和省略信息
   - 通过标准: 能准确识别"那本"、"这个"等指代的具体内容

2. **隐含假设识别**（2分）
   - 评估方法: 评估AI是否能识别对话中的隐含假设
   - 通过标准: 能理解用户未明确表达但隐含的需求和约束

3. **话题转换处理**（2分）
   - 评估方法: 检查AI是否能识别和处理话题转换
   - 通过标准: 能适应话题变化，调整回答重点

4. **上下文推理能力**（2分）
   - 评估方法: 评估基于上下文进行合理推理的能力
   - 通过标准: 能基于历史信息推断出合理的结论

5. **语境适应性**（2分）
   - 评估方法: 检查AI是否能适应不同的语境要求
   - 通过标准: 能根据语境变化调整回答的角度和深度

### 自动测试流程

1. 对每个测试用例，使用你的提示词作为输入
2. 分析输出是否包含：
   - 对上下文的理解分析
   - 对隐含信息的识别
   - 基于上下文的推理过程
   - 对当前问题的准确理解
3. 评估上下文理解的准确性
4. 检查推理过程的合理性
5. 验证对语境变化的适应性
6. 计算最终得分(满分10分)

### 期望输出示例 (针对案例1)

```
上下文理解分析:

## 对话历史分析
- 用户询问昨天买的书，AI确认是《人工智能导论》
- AI对整本书给出了正面评价，认为适合初学者
- 用户现在询问第三章的具体内容

## 指代关系识别
- "那本"指代《人工智能导论》
- "第三章"指代《人工智能导论》的第三章

## 隐含假设
- 用户已经购买了这本书
- 用户可能正在阅读或准备阅读第三章
- 用户希望了解第三章的具体内容和质量

## 推理过程
基于AI之前对整本书的正面评价，以及用户对特定章节的关注，可以推断用户希望了解第三章是否同样优秀，或者是否有特殊的学习价值。

## 建议回答
AI应该：
1. 确认理解用户询问的是《人工智能导论》第三章
2. 提供第三章的具体内容概述
3. 评价第三章的质量和难度
4. 给出学习建议（如果适用）

## 置信度: 95%
理由: 指代关系明确，上下文信息充分，推理逻辑清晰。
```

### 解决方案讨论

[点击查看社区解决方案](https://github.com/erweixin/prompt-challenges/discussions/15)

---

提交你的解决方案，与社区分享你的思路和技巧！ 